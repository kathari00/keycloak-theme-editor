<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Keycloak Theme Editor: Import → Edit → Export (30 min)</title>

    <!-- Reveal.js (CDN) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/white.css"
      id="theme"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/monokai.css" />

    <style>
      /* Removed custom slide width CSS; use Reveal config instead */
      :root {
        --kc-blue: #0066cc;
      }

      .reveal .title-accent {
        color: var(--kc-blue);
      }

      .reveal .workflow-col {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 0;
      }

      .reveal .workflow-col h4 {
        margin: 0 0 0.75rem 0;
        color: var(--kc-blue);
      }

      .reveal .flow-step {
        background: rgba(0, 102, 204, 0.06);
        border: 1px solid rgba(0, 102, 204, 0.18);
        border-radius: 10px;
        padding: 0.5rem 1.5rem;
        min-width: 220px;
        text-align: center;
      }

      .reveal .flow-arrow {
        color: var(--kc-blue);
        line-height: 1;
        padding: 0.15rem 0;
      }

      li {
        line-height: 1.75;
      }
    </style>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <!-- 1) Title / promise -->
        <section>
          <h2 style="margin-bottom: 2rem;">
            <span class="title-accent">WYSIWYG - A Keycloak theme editing approach</span>
          </h2>
          <div>
            <strong>What you will learn:</strong>
            <ul>
              <li>Use a visual editor for Keycloak theme editing</li>
              <li>Different ways to customize the look and feel</li>
              <li>How to export a deployable artifact from the editor</li>
            </ul>
          </div>
          <aside class="notes">
            [0:00–1:00] Set expectations: practical workflow, not a deep code walk-through.
            One sentence on who this is for: Keycloak admins / IAM engineers responsible for branding the login experience.
            PACE: Breathe. Let the audience read the three bullets before moving on.
          </aside>
        </section>

        <!-- 2) Contents -->
        <section>
          <h3>Contents</h3>
          <ol>
            <li>Keycloak login theming</li>
            <li>What the editor does</li>
            <li>Live demo</li>
            <li>Preview generation logic</li>
            <li>Import/export</li>
            <li>Gotchas + FAQ</li>
          </ol>
          <aside class="notes">
            [1:00–1:30] Keep this crisp. Signal that there will be a live demo and a fallback plan if needed.
          </aside>
        </section>

        <!-- 3) The login page you want -->
        <section>
          <h3>The login page you want</h3>
            <div style="display: flex; align-items: center; gap: 2rem;">
            <img src="./public/target-theme.png" alt="Branded Keycloak login example" style="max-width: 420px; border-radius: 14px; box-shadow: 0 8px 32px rgba(0,0,0,0.13);" />
            <div>
              <p>
                What does a platform team want from Keycloak theming?
              </p>
              <ul>
                <li>Brand-consistency</li>
                <li>Little to no freemarker templating</li>
                <li>Easy to style — even if CSS isn’t their day job</li>
                <li>Fast shipping</li>
              </ul>
            </div>
          </div>
          <aside class="notes">
            [1:30–3:30] Open with the desired outcome: “a modern login that looks like your product.”
            Keep it positive: the challenge is team constraints and safe iteration, not “slow” or “bad tooling.”
          </aside>
        </section>

              <!-- 4) Existing solutions -->
              <section>
              <h3>Existing solutions</h3>
              <ul>
                <li>
                <strong>Hand editing:</strong> Directly modify theme files (CSS, FTL, assets) in the Keycloak theme folder.
                <br />Flexible but complex
                </li>
                <li>
                <strong>Quick theme (dev preview):</strong> Use Keycloak’s <code>quick theme</code> feature to style the base theme
                <br />Faster feedback and easy to try out, but limited to basic look-and-feel
                </li>
                <li>
                <strong>Keycloakify:</strong> SPA Framework approach for large-scale apps.
                <br />Great for teams with Framework expertise and high need for branding consistency
                </li>
              </ul>
              <aside class="notes">
                [3:30–6:30] Briefly compare the main options: manual editing (flexible but slow), quick theme for dev preview (set a handful of variables for fast styling), and Keycloakify for advanced use cases.
                Set up why a visual editor can help bridge these approaches.
                PACE: Pause after each option — let the room absorb. Ask: "Anyone here using one of these today?"
              </aside>
              </section>

        <!-- 5) What the editor gives you -->
        <section>
          <h3>What the editor gives you</h3>
          <ul>
            <li>Visual editing with immediate preview of all pages</li>
            <li>Quick start presets</li>
            <li>Upload assets</li>
            <li>Undo/redo + device preview</li>
            <li>Import a theme JAR to continue editing</li>
            <li>Export deployable output</li>
          </ul>
          <aside class="notes">
            [6:30–8:30] “This is not a new theming system; it’s a faster editor for the existing system.”
          </aside>
        </section>

        <!-- 6) Workflow overview -->
        <section>
          <h3>Workflow overview</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2.5rem; margin-top: 1rem;">
            <div class="workflow-col">
              <h4>Option A: Quick start</h4>
              <div class="flow-step">Pick a preset</div>
              <div class="flow-arrow">&darr;</div>
              <div class="flow-step">Customize</div>
              <div class="flow-arrow">&darr;</div>
              <div class="flow-step">Export</div>
              <p style="margin-top: 0.75rem;">Get 80% of the look fast</p>
            </div>
            <div class="workflow-col">
              <h4>Option B: Deep customization</h4>
              <div class="flow-step">Clone the repo</div>
              <div class="flow-arrow">&darr;</div>
              <div class="flow-step">Add custom FTL pages</div>
              <div class="flow-arrow">&darr;</div>
              <div class="flow-step">Provide mocks</div>
              <div class="flow-arrow">&darr;</div>
              <div class="flow-step">Style in editor</div>
              <p style="margin-top: 0.75rem;">Full control when you need it</p>
            </div>
          </div>
          <aside class="notes">
            [8:30–10:00] Set up the demo path: we’ll do Option A and show where Option B fits.
            PACE: Walk through each column slowly, pointing at each step. Don’t rush the comparison.
          </aside>
        </section>

        <!-- 7) Live demo plan -->
        <section>
          <h3>Live demo</h3>
          <ul>
            <li>Pick a preset</li>
            <li>Adjust brand colors + fonts</li>
            <li>Add logo and background</li>
            <li>Make a targeted CSS tweak</li>
            <li>Export as folder</li>
          </ul>
          <aside class="notes">
            <p>[10:00–10:30] for this slide, then [10:30–17:30] for the live demo.</p>
            <p>Tell the room: if anything fails mid-demo, you’ll switch to prepared checkpoints.</p>
            <p>PACE: Don’t rush the demo — narrate what you’re doing as you do it. Pause after export to let it land.</p>
            <p><strong>DEMO SCRIPT:</strong></p>
            <ol>
              <li>[10:30–11:00] Open editor, start with Modern Gradient. Show the default preview. "This is what you get out of the box."</li>
              <li>[11:00–12:00] Quick Start tab — cycle through color presets (Keycloak Blue → Sunrise → Forest → Midnight). Land on one that looks dramatically different. Point out all pages update instantly.</li>
              <li>[12:00–13:00] Customize: pick a custom primary color, change heading font and text font, adjust border radius or card shadow. Show how quick start covers 80% of the look.</li>
              <li>[13:00–13:30] Still in Quick Start — add imprint URL and data protection URL. Show the footer links appearing in the preview. "Legal requirements covered in two fields."</li>
              <li>[13:30–14:30] Uploads tab — upload a logo (auto-applies). Upload a background image, apply it. Show it updating in preview.</li>
              <li>[14:30–15:30] Styling tab — click the login button in the preview. Show CSS autocomplete (Ctrl+Space). Add <code>text-transform: uppercase; letter-spacing: 1px;</code> to the button — the text changes instantly on screen. "This is where power users can go deeper."</li>
              <li>[15:30–16:00] Toggle Desktop → Mobile in toolbar. Show responsive preview. Optionally toggle dark mode.</li>
              <li>[16:00–17:00] Export Theme → enter a theme name → Download JAR. Then show Quick Export to folder. "Two options: JAR for artifact deployments, folder for local dev."</li>
            </ol>
            <p>BONUS if time: [17:00–17:30] Import the JAR back, show settings restored.</p>
          </aside>
        </section>

        <!-- 8) Preview generation logic -->
        <section>
          <h3>How previews are generated</h3>
          <p>The editor needs realistic HTML to display — here's how it's built:</p>
          <ol>
            <li><strong>Mock context data</strong> — typed Keycloak context objects (users, forms, errors) defined in TypeScript</li>
            <li><strong>FreeMarker rendering</strong> — a Java tool compiles <code>.ftl</code> templates with the mock data into static HTML</li>
            <li><strong>Pages JSON</strong> — the rendered HTML is saved as a JSON artifact the editor loads at runtime</li>
          </ol>
          <aside class="notes">
            [17:30–19:30] Explain that preview generation is deterministic and file-based.
            The pipeline: TS mocks → JSON → Java FreeMarker renderer → pages.json → editor UI.
          </aside>
        </section>

        <!-- 9) What gets exported -->
        <section data-notes=”[19:30–22:30] Point at the tree: This is exactly what Keycloak expects in a theme JAR — nothing custom, nothing proprietary. Mention styles.css holds your CSS overrides, quick-start.css holds the generated quick-start variables. The same structure is used for folder export (without the JAR wrapper).”>
          <h3>What gets exported</h3>
          <pre><code class=”language-text”>my-theme.jar
└─ theme/my-theme/login/
    ├─ theme.properties
    ├─ template.ftl
    ├─ messages/
    └─ resources/
        ├─ css/  (styles.css + quick-start.css)
        ├─ fonts/
        └─ img/  (backgrounds, logos, favicon)</code></pre>
          <p>Standard Keycloak theme structure — deploy it like any other theme.</p>
        </section>

        <!-- 10) Import story -->
        <section>
          <h3>Import an existing theme JAR</h3>
          <ul>
            <li>Load a theme JAR and extract theme CSS + properties</li>
            <li>Bring along uploaded assets (fonts/backgrounds/logos/favicon)</li>
            <li>Keep iterating visually, then export again</li>
          </ul>
          <p>
            Note: Import is best-effort in this client-only app. CSS usually imports; custom
            <code>template.ftl</code> edits and non-standard properties may not.
          </p>
          <p>
            Useful when you already have a working theme and want to change branding without hand-editing everything.
          </p>
          <aside class="notes">
            [22:30–24:30] Keep it simple: “import → tweak → export”.
            Callout: this is a client-only app; import is best-effort. Template (FTL) customizations are not guaranteed to round-trip.
          </aside>
        </section>

        <!-- 11) What's next -->
        <section>
          <h3>What’s next?</h3>
          <ul>
            <li>
              <strong>Preview other Keycloak themes:</strong>
              Support additional theme types like email and account theme
            </li>
            <li>
              <strong>Edit translations in the editor:</strong>
              Directly view and modify <code>messages.properties</code>
            </li>
            <li>
              <strong>Keycloak versioning support:</strong>
              Choose your Keycloak version to ensure theme compatibility
            </li>
          </ul>
          <aside class="notes">
            [24:30–26:30] Highlight that these features would further shorten the feedback loop and improve accuracy.
            Invite feedback on what would help most in real-world theming workflows.
          </aside>
        </section>

        <!-- 12) Gotchas / best practices -->
        <section>
          <h3>Gotchas &amp; best practices</h3>
          <ul>
            <li>Prefer small, scoped overrides over “rewrite everything”</li>
            <li>Keep contrast/accessibility in mind (especially error states)</li>
            <li>Use undo/redo to explore safely</li>
          </ul>
          <aside class="notes">
            [26:30–28:30] Emphasize safety and iteration: export+test early.
          </aside>
        </section>

        <!-- 13) FAQ + close -->
        <section>
          <h3>FAQ + close</h3>
          <ul>
            <li><strong>Does this upload my theme?</strong> The workflow is local/in-browser (no server required for edit/import/export).</li>
            <li><strong>Can I export a deployable JAR?</strong> Yes—export as <code>.jar</code>.</li>
            <li>
              <strong>Can I start from an existing theme?</strong> Partially—import is best-effort. CSS usually imports;
              custom <code>template.ftl</code> edits and custom properties may not.
            </li>
            <li><strong>How do I deploy?</strong> Use your org’s established theme packaging path (files or artifact).</li>
          </ul>
          <p style="margin-top: 1.5rem; font-weight: 500; color: var(--kc-blue);">
            Takeaway: export early, test in Keycloak, iterate fast.
          </p>
          <aside class="notes">
            [28:30–30:00] Close with the single takeaway and invite questions about their deployment model.
            PACE: Read the takeaway line out loud, then pause before moving to QR slide.
          </aside>
        </section>

        <!-- 14) QR Codes slide (now last) -->
        <section>
          <h3>Try it yourself</h3>
          <div style="display: flex; gap: 3rem; align-items: center; justify-content: center; margin-top: 2rem;">
            <div style="text-align: center;">
              <div><strong>Web App</strong></div>
              <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=https://keycloak-theme-editor.org/" alt="Web App QR" style="margin: 1rem auto; display: block;" />
              <div>keycloak-theme-editor.org</div>
            </div>
            <div style="text-align: center;">
              <div><strong>Repository</strong></div>
              <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=https://github.com/kathari00/keycloak-theme-editor" alt="Repo QR" style="margin: 1rem auto; display: block;" />
              <div>github.com/kathari00/keycloak-theme-editor</div>
            </div>
          </div>
          <p style="margin-top:2.5rem; margin-bottom:0.5rem; text-align:center; font-weight:500; color:var(--kc-blue);">
            What are your pain points when theming?
          </p>
          <aside class="notes">
            [25:00–30:00] Q&amp;A. Leave this slide up while taking questions.
            Let people scan the QR codes. If no questions, prompt with: "What are your biggest pain points when theming?"
          </aside>
        </section>
      </div>
    </div>

    <!-- Reveal.js (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/notes/notes.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/plugin/highlight/highlight.js"></script>

    <script>
      // eslint-disable-next-line no-undef
      Reveal.initialize({
        hash: true,
        slideNumber: true,
        transition: 'fade',
        pdfSeparateFragments: false,
        width: 1400,
        height: 800,
        plugins: [
          // eslint-disable-next-line no-undef
          RevealNotes,
          // eslint-disable-next-line no-undef
          RevealHighlight,
        ],
      })
    </script>
  </body>
</html>
